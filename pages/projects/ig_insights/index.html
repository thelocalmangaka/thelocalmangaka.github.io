<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" href="../../../styles/styles.css">
  <link rel="stylesheet" href="../../../styles/loader.css">
  <meta charset="UTF-8">
  <title>IGInsights</title>
  <link rel="icon" type="image/x-icon" href="/media/general/the_yellow_cat_icon.png">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <script src="js/external/jQuery/js.cookie.js"></script>
  <!--loads the FaceBook sdk into page-->
  <script src="js/actions/login.js" type="module"></script>
  <script src="js/actions/logout.js" type="module"></script>
  <script src="js/actions/insight.js" async="async" type="module"></script>
  <script src="js/actions/cancel.js" type="module"></script>
  <script src="js/actions/app_id.js" type="module"></script>
</head>
<header>
  <p><b>IGInsights</b></p>
</header>
<body>
  <p>
    This tool can calculate the total sum of likes, plays, watch-time, etc. on all your Instagram posts over their entire lifetimes!<br/>
    This tool uses <a href="https://developers.facebook.com/docs/instagram-platform/instagram-api-with-facebook-login">Facebook APIs</a> and all you need to do is:
  </p>
  <ul>
    <li>1) Create a Facebook Developer account and application. <b>[Instructions <a href="instructions.html">here</a>].</b></li>
    <li>2) Enter your newly created Application ID in the form below.</li>
    <li>3) Log into Facebook using the button below.</li>
    <li>4) Create/associate a Facebook page with your Instagram profile.</li>
    <ul>
      <li><a href="https://developers.facebook.com/docs/instagram-platform/instagram-api-with-facebook-login/business-login-for-instagram">Required to use Insight APIs</a>; instructions will appear in login popup window if not done so already.</li>
    </ul>
    <li>5) Log into Instagram inside popup window.</li>
    <li>6) Follow instructions to grant this tool permissions to view your insights.</li>
    <ul>
      <li>I specifically request for the following permissions: <b>[instagram_basic, instagram_manage_insights, pages_read_engagement, pages_show_list, business_management]</b>, as they are required by the Insights API <a href="https://developers.facebook.com/docs/instagram-platform/instagram-graph-api/reference/ig-media/insights">here</a>.</li>
    </ul>
    <li>7) After the window closes and returns to this page, click "Calculate my Insights!"</li>
    <li>8) Wait for page to finish calling Facebook's API's for all your posts, then display the results in a table in this window!</li>
  </ul>
  <p><b><i>Results can also be downloaded as a .csv file!!!</i></b></p>
  <p>
    This tool also only works for public Instagram profiles that are associated with a professional Business or Creator account.<br/>
    ...and so if that sounds like you, please enjoy this tool!
  </p>
  <form class="form-horizontal" onSubmit="return false;">
  <form action="./index.html">
    <label for="appId">App ID:</label>
    <input type="text" id="appId">&nbsp;<span id="appIdError" style="color:red"></span><br><br>
    <input type="button" value="Submit" onclick="saveAppId()">
  </form>
  <div id="login">
    <hr>
    <p id="login_message"></p>
    <p>
      <button id="login_button" onclick="loginToFacebook()">Login to Facebook</button>
    </p>
    <p><i>*If you have issues with logging in, this can usually be resolved by clearing third party cookies then trying again.
      <br>(e.g. on Chrome: Inspect -> Application -> Storage -> 'Clear site data' (including third-party cookies))</i></p>
  </div>
  <div id="loggedIn" style="display: none">
    <hr>
    <p id="welcome"></p>
    <p>
      <button onclick="insight()">Calculate my Insights!</button>
    </p>
    <p>
      <button onclick="logoutOfFacebook()">Logout of Facebook</button>
    </p>
  </div>
  <p><i>Info regarding insights calculated can be found <a href="./info.html">here</a>.</i></p>
  <div id="loader" class="loader"></div>
  <div id="loader_message" style="display: none">
    <p id="loader_console"></p>
    <p>
      <button onclick="cancel()">Cancel process</button>
    </p>
  </div>
  <p id="cancelled_message" style="display: none">Your process has been cancelled, but here are the results calculated thus far:</p>
  <div id="table">
  </div>
  <p id="download"></p>
  <div id="calculated" style="display: none">
    <p>
      Woohoo! Your insights have been calculated!<br/>
      If you liked this tool, please follow me <b>(@thelocalmangaka)</b> on <a href="https://www.instagram.com/thelocalmangaka/">Instagram</a> or check me out on <a href="https://www.youtube.com/c/TheLocalMangaka">YouTube</a>!
    </p>
    <p><i>
      Note: Columns in blue refer to metrics available to all media,<br/>
      while columns in yellow are exclusive to video category media,<br/>
      and columns in orange are exclusive to non-video category media.
    </i></p>
  </div>
  <p id="createChart"></p>
  <div id="igChart">
    <div id="igChartTotalInteractions"></div>
    <div id="igChartVideos"></div>
    <div id="igChartPosts"></div>
  </div>
  <script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_US/sdk.js"></script>
  <!--for creating charts-->
  <script src="https://code.highcharts.com/highcharts.js"></script>
  <script src="js/external/jQuery/jquery.cvs.js"></script>
</body>
<footer>
  <p>
    <a href="./privacy_policy.html">privacy policy</a>
    <a href="./terms_and_conditions.html">terms and conditions</a>
    <a href="https://github.com/thelocalmangaka/thelocalmangaka.github.io/tree/main/pages/projects/ig_insights">source code</a>
    <a href="../../../index.html">home</a>
  </p>
  <p><img src="../../../media/general/blue_panda_instagram.png" alt="Blue panda" width="333"></p>
</footer>
</html>